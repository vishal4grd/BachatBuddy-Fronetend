<div class="page">
  <h2 class="form-title"><span>ğŸ“ My Addresses</span></h2>
  <p class="form-subtitle">Manage your saved delivery locations</p>

  <div *ngIf="loading">â³ Loading...</div>
  <div *ngIf="error" class="error">âš ï¸ {{ error }}</div>

  <!-- Address List -->
  <div *ngIf="!loading && addresses.length > 0">
    <div *ngFor="let a of addresses" class="address-card" [ngClass]="{ 'default': a.isDefault }">
      <div><strong>ğŸ‘¤ {{ a.name }}</strong> <span *ngIf="a.isDefault">â­ (Default)</span></div>
      <div>ğŸ  {{ a.line1 }}, {{ a.line2 }}</div>
      <div>ğŸŒ† {{ a.city }}, {{ a.state }} - ğŸ“® {{ a.pincode }}</div>
      <div>ğŸ“ {{ a.phone }}</div>
      <div class="button-group">
        <button>âœï¸ Edit</button>
        <button>ğŸ—‘ï¸ Delete</button>
      </div>
    </div>
  </div>

  <!-- No addresses -->
  <div *ngIf="!loading && addresses.length === 0" class="empty-message">
    ğŸšï¸ No addresses found.
  </div>

  <hr />

  <!-- Address Form -->
  <h3 class="form-title"><span>{{ editingId ? 'âœï¸ Edit' : 'â• Add' }} Address</span></h3>
  <p class="form-subtitle">Fill in your details below</p>

  <form [formGroup]="form" (ngSubmit)="save()" class="address-form">
    <input formControlName="name" class="form-control" placeholder="ğŸ‘¤ Name" />
    <input formControlName="phone" class="form-control" placeholder="ğŸ“ Phone" />
    <input formControlName="line1" class="form-control" placeholder="ğŸ  Address line 1" />
    <input formControlName="line2" class="form-control" placeholder="ğŸ  Address line 2" />
    <input formControlName="city" class="form-control" placeholder="ğŸŒ† City" />
    <input formControlName="state" class="form-control" placeholder="ğŸ—ºï¸ State" />
    <input formControlName="pincode" class="form-control" placeholder="ğŸ“® Pincode" />

    <div class="checkbox-row">
      <input type="checkbox" formControlName="isDefault" id="isDefault" />
      <label for="isDefault">â­ Set as default</label>
    </div>

    <div class="button-group">
      <button type="submit">{{ editingId ? 'âœ… Update' : 'â• Add' }}</button>
      <button type="button">âŒ Cancel</button>
    </div>
  </form>
</div>
